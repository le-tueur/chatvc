ad : mot de passe adbk

shainez : mot de passe moije123456

pronBOT : mot de passe Ballon:)2008

Fonctionnalit√©s principales :

Connexion s√©curis√©e

Chaque utilisateur se connecte avec son r√¥le et mot de passe fixe.

pronBOT acc√®de uniquement √† son panel administrateur.

Chat en temps r√©el avec Socket.io

Messages envoy√©s par ad et shainez visibles uniquement par eux en attente de validation.

pronBOT ou pronebot(ia) peut approuver ou rejeter ces messages.

Messages valid√©s visibles par tous.

Messages de type √©v√©nement/notification envoy√©s par pronBOT  et pronbote apparaissent en rouge pour tous.

Panel pronBOT avanc√©
petit panel entre l'user pronbot et l'ia pronbote pour le commander desfois exemple lui dire d'envoyer un message noraml dans le chat "..." ou d'envoyer un message systeme ou autre demande genre lancer minuteur dire autre chose fermer le chat dans x temps et preciser tous les 5 munite le temps restant au user etc le ia doit pouvoir interpreter ce que j'ecris et me montrer un plan de ce qu'il vas faire ou envoyer pour que je confirme avant qu'il fait 

Approver ou rejeter les messages en attente.

Activer/d√©sactiver le chat.

D√©finir un cooldown entre les messages pour ad/shainez.

Configurer un timer de fermeture du chat visible par tous.

Envoyer des messages √©v√©nement/notification en rouge.

Acc√©der √† l‚Äôhistorique complet des messages et le vider si n√©cessaire.

Ajouter/supprimer des utilisateurs fictifs pour tester le chat.

Voir la liste des utilisateurs connect√©s en temps r√©el.

Interface utilisateur

Responsive pour mobile et desktop.

Minimaliste mais claire.

Messages valid√©s, √©v√©nements et notifications affich√©s distinctement.

Timer de fermeture du chat affich√© pour tous.

le bot doit pouvoir faire tous ce que le admin peut faire et aussi lire constament le chat si ad et shainez parle de chose priver de messasagerie autre genre insta snap meme ecrit diferrenement il ferme direct le chat et met un message fermeture cause ...

R√©pond aux users de mani√®re froide, br√®ve et autoritaire.

R√©pond aux admins de mani√®re joyeuse et collaborative.

Mod√®re les messages automatiquement (bloque les insultes, spam, etc.).

Ex√©cute des actions automatiques, comme ouvrir/fermer le chat.

Reconna√Æt des commandes sp√©ciales comme .b pour r√©pondre froidement.

A tous les droits d‚Äôadmin c√¥t√© chat (supprimer, mod√©rer, g√©rer la file d‚Äôattente).

üóÇÔ∏è Structure des fichiers
/chatvc-main
 ‚îú‚îÄ‚îÄ public/               ‚Üê site web HTML, CSS, JS
 ‚îÇ   ‚îú‚îÄ‚îÄ index.html
 ‚îÇ   ‚îî‚îÄ‚îÄ chat.js            ‚Üê frontend pour le chat
 ‚îú‚îÄ‚îÄ server/               
 ‚îÇ   ‚îî‚îÄ‚îÄ server.js          ‚Üê backend Express pour API chat
 ‚îú‚îÄ‚îÄ bot/                  
 ‚îÇ   ‚îú‚îÄ‚îÄ botLogic.js        ‚Üê logique bot, communication avec Mistral
 ‚îÇ   ‚îî‚îÄ‚îÄ personaPrompt.txt  ‚Üê personnalit√© / r√®gles bot
 ‚îú‚îÄ‚îÄ package.json
 ‚îî‚îÄ‚îÄ Dockerfile             ‚Üê pour d√©ploiement Render + Ollama + Mistral

üõ†Ô∏è /bot/personaPrompt.txt
Tu es FroidBot.
- Avec les utilisateurs : tu es froid, bref et autoritaire. Tu r√©ponds uniquement aux messages pertinents.
- Avec les admins : tu es joyeux, bavard et collaboratif.
- Tu as tous les droits sur le chat : mod√©ration, suppression, ouverture/fermeture.
- Si un message commence par ".b", tu r√©ponds froidement.
- Si un message contient des insultes, tu le bloques et marques "√† mod√©rer".
- Si on te dit "ouvre le chat dans X minutes", tu r√©ponds "Je le ferai" et tu appelles la fonction open_chat_after(X) c√¥t√© serveur.
- Tu diff√©rencies automatiquement user/admin via le r√¥le re√ßu.

üõ†Ô∏è /bot/botLogic.js
import { spawn } from "child_process";

export async function askBot(message, role) {
  const persona =
    role === "admin"
      ? "Tu es un assistant joyeux et collaboratif pour les administrateurs."
      : "Tu es un mod√©rateur froid et distant. Tu r√©ponds bri√®vement aux utilisateurs, tu appliques les r√®gles et refuses les insultes.";

  const prompt = `${persona}\nMessage: ${message}`;

  return new Promise((resolve) => {
    const ollama = spawn("ollama", ["run", "mistral"], { stdio: ["pipe", "pipe", "pipe"] });
    let output = "";
    ollama.stdout.on("data", (data) => (output += data.toString()));
    ollama.stdin.write(prompt);
    ollama.stdin.end();
    ollama.on("close", () => resolve(output.trim()));
  });
}

üõ†Ô∏è /server/server.js
import express from "express";
import path from "path";
import { fileURLToPath } from "url";
import { askBot } from "../bot/botLogic.js";

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const app = express();
app.use(express.json());
app.use(express.static(path.join(__dirname, "../public")));

// API chat
app.post("/api/chat", async (req, res) => {
  const { message, userRole } = req.body; // "admin" ou "user"
  const reply = await askBot(message, userRole);
  res.json({ reply });
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => console.log(`‚úÖ Serveur en ligne sur le port ${PORT}`));

üõ†Ô∏è /public/chat.js (exemple frontend)
async function sendMessage() {
  const message = document.getElementById("message").value;
  const userRole = window.isAdmin ? "admin" : "user"; // d√©finir selon login/admin
  const res = await fetch("/api/chat", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ message, userRole }),
  });
  const data = await res.json();
  document.getElementById("chat").innerHTML += `<p><b>Bot:</b> ${data.reply}</p>`;
}

// Optionnel : d√©tection .b c√¥t√© frontend pour trigger direct
document.getElementById("sendBtn").addEventListener("click", sendMessage);

üõ†Ô∏è Dockerfile pour Render
FROM node:20

# Installe Ollama
RUN curl -fsSL https://ollama.com/install.sh | sh

# T√©l√©charge le mod√®le Mistral
RUN ollama pull mistral

WORKDIR /app
COPY . .

RUN npm install

# Lance Ollama + serveur
CMD ["bash", "-c", "ollama serve & node server/server.js"]

‚úÖ R√©sum√© du comportement

Nouveau user : Bot r√©pond froidement, mod√®re et bloque les insultes.

Admin : Bot r√©pond joyeusement, peut ex√©cuter toutes les actions automatiquement.

Commandes .b : r√©ponses froides instantan√©es.

Action diff√©r√©e : messages ‚Äúouvre le chat dans X minutes‚Äù d√©clenchent open_chat_after(X) c√¥t√© serveur.

Mod√©ration automatique : tous les messages suspects ou insultes sont bloqu√©s avant affichage.

et aussi dans le panel ajoute un mini paneel ia ou je peux envoyer ducoup des direction desfois activer desactiver certain fonctionne ou tous simplement le commander 

tu peux cree un fichier dans github du meme type que le chat pour sauvegarder dynamiquement les parametre du bot activer desactivreer etc genre sur un json dans le github